!function(o,i,e){function a(o,e,a,n,t,s,l){var d=window.innerHeight;n>(d=d-sp_platform_vars.headpadding-60)&&(n=d);var r=0==n?"auto":n,p=0==a?"auto":a;i("#dialog").html(l),i("#dialog").dialog({modal:!0,zindex:1e5,autoOpen:!1,show:"fold",hide:"fold",width:p,height:r,maxHeight:d,draggable:!0,resizable:!0,title:e,closeText:"",dialogClass:s,close:function(o,e){i("#postitem").trigger("closed")},focus:function(o,e){i("#dialog").trigger("opened")}}),0===t&&i("#dialog").dialog("option","position",{my:"right top",at:"left bottom",of:o}),a>0&&"desktop"==sp_platform_vars.device&&i("#dialog").dialog("option","width",a),n>0&&i("#dialog").dialog("option","height",n);var g=i(".ui-dialog").css("top");if("-"==g.charAt(0)){var c=Math.round(parseInt(g)-parseInt(sp_platform_vars.headpadding));i("#dialog").dialog("option","position",{my:"right top"+c,at:"left bottom",of:o})}i(".ui-dialog").css("z-index","999999"),i("#dialog").dialog("open"),sp_platform_vars.tooltips&&i(".ui-tooltip").hide()}o.loadAjax=function(o,e,a){""!==a&&(document.getElementById(e).innerHTML='<img src="'+a+'" />'),o=o+"&rnd="+(new Date).getTime(),i("#"+e).show(),i("#"+e).load(o)},o.batch=function(e,a,n,t,s,l,d,r){if(0==l)a+="&target="+n+"&totalNum="+r+"&"+i("#"+e).serialize(),i("#"+n).show(),i("#"+n).html(t),i("#progressbar").progressbar({value:0});else{var p=l/r*100;i("#progressbar").progressbar("option","value",p)}var g=a+"&startNum="+l+"&batchNum="+d;return i("#onFinish").load(g,function(p,g){(l+=d)<r?o.batch(e,a,n,t,s,l,d,r):(i("#progressbar").hide(),i("#"+n).show(),i("#"+n).html(s),i("#"+n).fadeOut(6e3))}),!1},o.dialogAjax=function(e,n,t,s,l,d,r,p){if(r||(r="spDialogDefault"),"mobile"!=sp_platform_vars.device&&"forum"==sp_platform_vars.focus||"admin"==sp_platform_vars.focus||0==sp_platform_vars.mobiletheme||p)i().dialog("isOpen")&&i().dialog("close"),i("#dialog").remove(),i("#dialogcontainer").append("<div id='dialog'></div>"),i("#dialog").load(n,function(o){a(e,t,s,l,d,r,o)});else{var g=i("#spMobilePanel");"block"==g.css("display")&&g.hide("slide",{direction:"right"},"down",function(){g.css("display","none"),g.css("right","-1px")}),o.dialogPanel(e,n,r)}},o.dialogHtml=function(o,e,n,t,s,l,d){d||(d="spDialogDefault"),i().dialog("isOpen")&&i().dialog("close"),i("#dialog").remove(),i("#dialogcontainer").append("<div id='dialog'></div>"),a(o,n,t,s,l,d,e)},o.dialogPanel=function(o,e,a){var n=i("#spMobilePanel");n.load(e,function(){n.removeClass(),n.addClass(a),n.show("slide",{direction:"down"},"slow",function(){n.append("<span id='spPanelClose'></span>"),i("#spMobilePanel").trigger("opened")})}),i("body").on("mousedown",function(){n.hide("slide",{direction:"down"},"slow")}),n.on("mousedown",function(o){o.stopPropagation()})},o.dialogPanelHtml=function(o,e){var a=i("#spMobilePanel"),n=i(e).html();a.html(n),a.show("slide",{direction:"down"},"slow"),a.append("<span id='spPanelClose'></span>"),i("body").on("mousedown",function(){a.hide("slide",{direction:"down"},"slow")}),a.on("mousedown",function(o){o.stopPropagation()})},o.cookie=function(o,e,a){if(void 0===e){var n=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),s=0;s<t.length;s++){var l=i.trim(t[s]);if(l.substring(0,o.length+1)==o+"="){n=decodeURIComponent(l.substring(o.length+1));break}}return n}a=a||{},null===e&&(e="",a.expires=-1);var d,r="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(d=new Date).setTime(d.getTime()+24*a.expires*60*60*1e3):d=a.expires,r="; expires="+d.toUTCString());var p=a.path?"; path="+a.path:"",g=a.domain?"; domain="+a.domain:"",c=a.secure?"; secure":"";document.cookie=[o,"=",encodeURIComponent(e),r,p,g,c].join("")},o.dialogOpen=function(e,n,t,s,l,d,r,p,g){if(console.log(g),r||(r="spDialogDefault"),"mobile"!=sp_platform_vars.device&&"forum"==sp_platform_vars.focus||"admin"==sp_platform_vars.focus||0==sp_platform_vars.mobiletheme||p)i().dialog("isOpen")&&i().dialog("close"),i("#dialog").remove(),i("#dialogcontainer").append("<div id='dialog'></div>"),a(e,t,s,l,d,r,g);else{var c=i("#spMobilePanel");"block"==c.css("display")&&c.hide("slide",{direction:"right"},"down",function(){c.css("display","none"),c.css("right","-1px")}),o.dialogPanel(e,n,r)}}}(window.spj=window.spj||{},jQuery);